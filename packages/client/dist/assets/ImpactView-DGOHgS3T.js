import{e as x,j as V,r as b,f as e,k as _,B as t,T as c,a9 as I,aa as j,ab as w,ac as D,h as y,S as h,H as z,i as f}from"./index-K_m0r3Nf.js";import{A as C}from"./Alert-BhuvVyDJ.js";import{G as l}from"./Grid-DR9lLDEG.js";import"./useSlot-CI_DgnQ-.js";const L=x(V.jsx("path",{d:"M6.36 18.78 6.61 21l1.62-1.54 2.77-7.6c-.68-.17-1.28-.51-1.77-.98zm8.41-7.9c-.49.47-1.1.81-1.77.98l2.77 7.6L17.39 21l.26-2.22zM15 8c0-1.3-.84-2.4-2-2.82V3h-2v2.18C9.84 5.6 9 6.7 9 8c0 1.66 1.34 3 3 3s3-1.34 3-3m-3 1c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"Architecture"),S=x(V.jsx("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"}),"BugReport"),k=x(V.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),o=({title:s,value:i,icon:m,description:u,color:r})=>e.jsxDEV(f,{sx:{p:3,height:"100%"},children:[e.jsxDEV(t,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsxDEV(m,{sx:{color:`${r}.main`,mr:1}},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:32,columnNumber:7},void 0),e.jsxDEV(c,{variant:"h6",children:s},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:33,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:31,columnNumber:5},void 0),e.jsxDEV(c,{variant:"h4",sx:{color:`${r}.main`,mb:1},children:i},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:35,columnNumber:5},void 0),e.jsxDEV(c,{variant:"body2",color:"text.secondary",children:u},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:38,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:30,columnNumber:3},void 0),M=({fromBranch:s,toBranch:i,branches:m,onFromBranchChange:u,onToBranchChange:r})=>{const[N,g]=b.useState(!1),[a,E]=b.useState(null),[v,d]=b.useState(null),U=async()=>{if(!s||!i){d("Please select both branches to analyze impact");return}g(!0),d(null);try{const n=await fetch("/api/impact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fromBranch:s,toBranch:i})});if(!n.ok)throw new Error("Failed to analyze impact");const p=await n.json();E(p)}catch(n){console.error("Error analyzing impact:",n),d(n.message)}finally{g(!1)}};return e.jsxDEV(_,{maxWidth:"xl",children:[e.jsxDEV(t,{sx:{mb:4},children:[e.jsxDEV(c,{variant:"h5",sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:[e.jsxDEV(k,{color:"primary"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:97,columnNumber:11},void 0),"Impact Analysis"]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:93,columnNumber:9},void 0),e.jsxDEV(t,{sx:{display:"flex",gap:2,mb:3},children:[e.jsxDEV(I,{sx:{minWidth:200},children:[e.jsxDEV(j,{children:"From Branch"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:102,columnNumber:13},void 0),e.jsxDEV(w,{value:s,label:"From Branch",onChange:n=>u(n.target.value),children:m.map(n=>e.jsxDEV(D,{value:n,children:n},n,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:109,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:103,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:101,columnNumber:11},void 0),e.jsxDEV(I,{sx:{minWidth:200},children:[e.jsxDEV(j,{children:"To Branch"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:116,columnNumber:13},void 0),e.jsxDEV(w,{value:i,label:"To Branch",onChange:n=>r(n.target.value),children:m.map(n=>e.jsxDEV(D,{value:n,children:n},n,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:123,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:117,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:115,columnNumber:11},void 0),e.jsxDEV(y,{variant:"contained",onClick:U,disabled:!s||!i||N,startIcon:e.jsxDEV(h,{},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:133,columnNumber:24},void 0),children:"Analyze Impact"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:129,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:100,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:92,columnNumber:7},void 0),N?e.jsxDEV(t,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2,py:8},children:[e.jsxDEV(z,{},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:150,columnNumber:11},void 0),e.jsxDEV(c,{color:"text.secondary",children:"Analyzing impact of changes..."},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:151,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:141,columnNumber:9},void 0):v?e.jsxDEV(C,{severity:"error",sx:{mb:3},children:v},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:156,columnNumber:9},void 0):a?e.jsxDEV(t,{sx:{display:"flex",flexDirection:"column",gap:3},children:[e.jsxDEV(l,{container:!0,spacing:3,children:[e.jsxDEV(l,{item:!0,xs:12,md:6,lg:3,children:e.jsxDEV(o,{title:"Change Impact",value:a.changeImpact,icon:k,description:"Overall impact score of the changes",color:"primary"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:175,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:174,columnNumber:13},void 0),e.jsxDEV(l,{item:!0,xs:12,md:6,lg:3,children:e.jsxDEV(o,{title:"Risk Level",value:a.riskLevel,icon:S,description:"Potential risk assessment",color:"error"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:184,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:183,columnNumber:13},void 0),e.jsxDEV(l,{item:!0,xs:12,md:6,lg:3,children:e.jsxDEV(o,{title:"Performance Impact",value:a.performanceImpact,icon:h,description:"Impact on system performance",color:"warning"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:193,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:192,columnNumber:13},void 0),e.jsxDEV(l,{item:!0,xs:12,md:6,lg:3,children:e.jsxDEV(o,{title:"Dependencies",value:a.dependencies,icon:L,description:"Number of affected dependencies",color:"info"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:202,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:201,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:173,columnNumber:11},void 0),a.details&&e.jsxDEV(f,{sx:{p:3,mt:3},children:[e.jsxDEV(c,{variant:"h6",gutterBottom:!0,children:"Detailed Analysis"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:215,columnNumber:15},void 0),e.jsxDEV(t,{component:"ul",sx:{mt:2,pl:2},children:a.details.map((n,p)=>e.jsxDEV(c,{component:"li",color:"text.secondary",sx:{mb:1},children:n},p,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:220,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:218,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:214,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:172,columnNumber:9},void 0):e.jsxDEV(f,{sx:{p:3,textAlign:"center",color:"text.secondary",border:"1px dashed",borderColor:"divider"},children:"Select branches and analyze to see the impact of changes"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:160,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:91,columnNumber:5},void 0)};export{M as default};
//# sourceMappingURL=ImpactView-DGOHgS3T.js.map
