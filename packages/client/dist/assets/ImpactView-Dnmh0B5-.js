import{e as x,j as V,r as b,f as e,k as E,B as t,T as c,a9 as g,aa as v,ab as I,ac as j,h as U,S as w,H as _,i as f}from"./index-Bwfw5TrY.js";import{A as y}from"./Alert-Dv8_LyaG.js";import{G as m}from"./Grid-BTyD-tzZ.js";import"./useSlot-C2hM-SIS.js";const C=x(V.jsx("path",{d:"M6.36 18.78 6.61 21l1.62-1.54 2.77-7.6c-.68-.17-1.28-.51-1.77-.98zm8.41-7.9c-.49.47-1.1.81-1.77.98l2.77 7.6L17.39 21l.26-2.22zM15 8c0-1.3-.84-2.4-2-2.82V3h-2v2.18C9.84 5.6 9 6.7 9 8c0 1.66 1.34 3 3 3s3-1.34 3-3m-3 1c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"Architecture"),z=x(V.jsx("path",{d:"M20 8h-2.81c-.45-.78-1.07-1.45-1.82-1.96L17 4.41 15.59 3l-2.17 2.17C12.96 5.06 12.49 5 12 5c-.49 0-.96.06-1.41.17L8.41 3 7 4.41l1.62 1.63C7.88 6.55 7.26 7.22 6.81 8H4v2h2.09c-.05.33-.09.66-.09 1v1H4v2h2v1c0 .34.04.67.09 1H4v2h2.81c1.04 1.79 2.97 3 5.19 3s4.15-1.21 5.19-3H20v-2h-2.09c.05-.33.09-.66.09-1v-1h2v-2h-2v-1c0-.34-.04-.67-.09-1H20zm-6 8h-4v-2h4zm0-4h-4v-2h4z"}),"BugReport"),D=x(V.jsx("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),u=({title:s,value:i,icon:r,description:o,color:l})=>e.jsxDEV(f,{sx:{p:3,height:"100%"},children:[e.jsxDEV(t,{sx:{display:"flex",alignItems:"center",mb:2},children:[e.jsxDEV(r,{sx:{color:`${l}.main`,mr:1}},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:26,columnNumber:7},void 0),e.jsxDEV(c,{variant:"h6",children:s},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:27,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:25,columnNumber:5},void 0),e.jsxDEV(c,{variant:"h4",sx:{color:`${l}.main`,mb:1},children:i},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:29,columnNumber:5},void 0),e.jsxDEV(c,{variant:"body2",color:"text.secondary",children:o},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:32,columnNumber:5},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:24,columnNumber:3},void 0),H=({fromBranch:s,toBranch:i,branches:r})=>{const[o,l]=b.useState(!1),[a,h]=b.useState(null),[N,d]=b.useState(null),k=async()=>{if(!s||!i){d("Please select both branches to analyze impact");return}l(!0),d(null);try{const n=await fetch("/api/impact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fromBranch:s,toBranch:i})});if(!n.ok)throw new Error("Failed to analyze impact");const p=await n.json();h(p)}catch(n){console.error("Error analyzing impact:",n),d(n.message)}finally{l(!1)}};return e.jsxDEV(E,{maxWidth:"xl",children:[e.jsxDEV(t,{sx:{mb:4},children:[e.jsxDEV(c,{variant:"h5",sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:[e.jsxDEV(D,{color:"primary"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:82,columnNumber:11},void 0),"Impact Analysis"]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:81,columnNumber:9},void 0),e.jsxDEV(t,{sx:{display:"flex",gap:2,mb:3},children:[e.jsxDEV(g,{sx:{minWidth:200},children:[e.jsxDEV(v,{children:"From Branch"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:87,columnNumber:13},void 0),e.jsxDEV(I,{value:s,label:"From Branch",onChange:n=>onFromBranchChange(n.target.value),children:r.map(n=>e.jsxDEV(j,{value:n,children:n},n,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:94,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:88,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:86,columnNumber:11},void 0),e.jsxDEV(g,{sx:{minWidth:200},children:[e.jsxDEV(v,{children:"To Branch"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:101,columnNumber:13},void 0),e.jsxDEV(I,{value:i,label:"To Branch",onChange:n=>onToBranchChange(n.target.value),children:r.map(n=>e.jsxDEV(j,{value:n,children:n},n,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:108,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:102,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:100,columnNumber:11},void 0),e.jsxDEV(U,{variant:"contained",onClick:k,disabled:!s||!i||o,startIcon:e.jsxDEV(w,{},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:118,columnNumber:24},void 0),children:"Analyze Impact"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:114,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:85,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:80,columnNumber:7},void 0),o?e.jsxDEV(t,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2,py:8},children:[e.jsxDEV(_,{},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:135,columnNumber:11},void 0),e.jsxDEV(c,{color:"text.secondary",children:"Analyzing impact of changes..."},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:136,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:126,columnNumber:9},void 0):N?e.jsxDEV(y,{severity:"error",sx:{mb:3},children:N},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:141,columnNumber:9},void 0):a?e.jsxDEV(t,{sx:{display:"flex",flexDirection:"column",gap:3},children:[e.jsxDEV(m,{container:!0,spacing:3,children:[e.jsxDEV(m,{item:!0,xs:12,md:6,lg:3,children:e.jsxDEV(u,{title:"Change Impact",value:a.changeImpact,icon:D,description:"Overall impact score of the changes",color:"primary"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:160,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:159,columnNumber:13},void 0),e.jsxDEV(m,{item:!0,xs:12,md:6,lg:3,children:e.jsxDEV(u,{title:"Risk Level",value:a.riskLevel,icon:z,description:"Potential risk assessment",color:"error"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:169,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:168,columnNumber:13},void 0),e.jsxDEV(m,{item:!0,xs:12,md:6,lg:3,children:e.jsxDEV(u,{title:"Performance Impact",value:a.performanceImpact,icon:w,description:"Impact on system performance",color:"warning"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:178,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:177,columnNumber:13},void 0),e.jsxDEV(m,{item:!0,xs:12,md:6,lg:3,children:e.jsxDEV(u,{title:"Dependencies",value:a.dependencies,icon:C,description:"Number of affected dependencies",color:"info"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:187,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:186,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:158,columnNumber:11},void 0),a.details&&e.jsxDEV(f,{sx:{p:3,mt:3},children:[e.jsxDEV(c,{variant:"h6",gutterBottom:!0,children:"Detailed Analysis"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:200,columnNumber:15},void 0),e.jsxDEV(t,{component:"ul",sx:{mt:2,pl:2},children:a.details.map((n,p)=>e.jsxDEV(c,{component:"li",color:"text.secondary",sx:{mb:1},children:n},p,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:205,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:203,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:199,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:157,columnNumber:9},void 0):e.jsxDEV(f,{sx:{p:3,textAlign:"center",color:"text.secondary",border:"1px dashed",borderColor:"divider"},children:"Select branches and analyze to see the impact of changes"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:145,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/ImpactView/ImpactView.jsx",lineNumber:79,columnNumber:5},void 0)};export{H as default};
