import{g as S,a as W,r as C,u as F,_ as K,b as p,Y,j as h,s as j,c as X,U as d,d as H,an as _,ao as E,a6 as J,a7 as G,P as s,e as U,f as r,k as Z,B as b,T as m,C as I,a9 as L,aa as $,ab as B,ac as q,h as ee,H as ae,i as N}from"./index-K_m0r3Nf.js";import{A as re}from"./Alert-BhuvVyDJ.js";import{C as ne}from"./Chip-B9vRR6Bu.js";import"./useSlot-CI_DgnQ-.js";function ie(e){return S("MuiLinearProgress",e)}W("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const te=["className","color","value","valueBuffer","variant"];let g=e=>e,M,T,R,z,O,w;const Q=4,se=E(M||(M=g`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),oe=E(T||(T=g`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),le=E(R||(R=g`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),ce=e=>{const{classes:a,variant:n,color:t}=e,u={root:["root",`color${d(t)}`,n],dashed:["dashed",`dashedColor${d(t)}`],bar1:["bar",`barColor${d(t)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${d(t)}`,n==="buffer"&&`color${d(t)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return H(u,ie,a)},V=(e,a)=>a==="inherit"?"currentColor":e.vars?e.vars.palette.LinearProgress[`${a}Bg`]:e.palette.mode==="light"?J(e.palette[a].main,.62):G(e.palette[a].main,.5),ue=j("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:n}=e;return[a.root,a[`color${d(n.color)}`],a[n.variant]]}})(({ownerState:e,theme:a})=>p({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:V(a,e.color)},e.color==="inherit"&&e.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},e.variant==="buffer"&&{backgroundColor:"transparent"},e.variant==="query"&&{transform:"rotate(180deg)"})),me=j("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,a)=>{const{ownerState:n}=e;return[a.dashed,a[`dashedColor${d(n.color)}`]]}})(({ownerState:e,theme:a})=>{const n=V(a,e.color);return p({position:"absolute",marginTop:0,height:"100%",width:"100%"},e.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},_(z||(z=g`
    animation: ${0} 3s infinite linear;
  `),le)),de=j("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,a)=>{const{ownerState:n}=e;return[a.bar,a[`barColor${d(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&a.bar1Indeterminate,n.variant==="determinate"&&a.bar1Determinate,n.variant==="buffer"&&a.bar1Buffer]}})(({ownerState:e,theme:a})=>p({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:e.color==="inherit"?"currentColor":(a.vars||a).palette[e.color].main},e.variant==="determinate"&&{transition:`transform .${Q}s linear`},e.variant==="buffer"&&{zIndex:1,transition:`transform .${Q}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&_(O||(O=g`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),se)),be=j("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,a)=>{const{ownerState:n}=e;return[a.bar,a[`barColor${d(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&a.bar2Indeterminate,n.variant==="buffer"&&a.bar2Buffer]}})(({ownerState:e,theme:a})=>p({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},e.variant!=="buffer"&&{backgroundColor:e.color==="inherit"?"currentColor":(a.vars||a).palette[e.color].main},e.color==="inherit"&&{opacity:.3},e.variant==="buffer"&&{backgroundColor:V(a,e.color),transition:`transform .${Q}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&_(w||(w=g`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),oe)),A=C.forwardRef(function(a,n){const t=F({props:a,name:"MuiLinearProgress"}),{className:u,color:o="primary",value:v,valueBuffer:k,variant:l="indeterminate"}=t,D=K(t,te),i=p({},t,{color:o,variant:l}),c=ce(i),P=Y(),y={},x={bar1:{},bar2:{}};if(l==="determinate"||l==="buffer")if(v!==void 0){y["aria-valuenow"]=Math.round(v),y["aria-valuemin"]=0,y["aria-valuemax"]=100;let f=v-100;P&&(f=-f),x.bar1.transform=`translateX(${f}%)`}else console.error("MUI: You need to provide a value prop when using the determinate or buffer variant of LinearProgress .");if(l==="buffer")if(k!==void 0){let f=(k||0)-100;P&&(f=-f),x.bar2.transform=`translateX(${f}%)`}else console.error("MUI: You need to provide a valueBuffer prop when using the buffer variant of LinearProgress.");return h.jsxs(ue,p({className:X(c.root,u),ownerState:i,role:"progressbar"},y,{ref:n},D,{children:[l==="buffer"?h.jsx(me,{className:c.dashed,ownerState:i}):null,h.jsx(de,{className:c.bar1,ownerState:i,style:x.bar1}),l==="determinate"?null:h.jsx(be,{className:c.bar2,ownerState:i,style:x.bar2})]}))});A.propTypes={classes:s.object,className:s.string,color:s.oneOfType([s.oneOf(["inherit","primary","secondary"]),s.string]),sx:s.oneOfType([s.arrayOf(s.oneOfType([s.func,s.object,s.bool])),s.func,s.object]),value:s.number,valueBuffer:s.number,variant:s.oneOf(["buffer","determinate","indeterminate","query"])};const fe=U(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),he=U(h.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),pe=U(h.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),ge=({title:e,score:a,maxScore:n,status:t})=>{const u=()=>t==="error"?"error":t==="warning"?"warning":"success",o=()=>t==="error"?r.jsxDEV(he,{},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:39,columnNumber:38},void 0):t==="warning"?r.jsxDEV(pe,{},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:40,columnNumber:40},void 0):r.jsxDEV(fe,{},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:41,columnNumber:12},void 0);return r.jsxDEV(N,{sx:{p:3,mb:2},children:[r.jsxDEV(b,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[r.jsxDEV(m,{variant:"h6",children:e},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:47,columnNumber:9},void 0),r.jsxDEV(ne,{icon:o(),label:`${a}/${n}`,color:u(),variant:"outlined"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:48,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:46,columnNumber:7},void 0),r.jsxDEV(A,{variant:"determinate",value:a/n*100,color:u(),sx:{height:8,borderRadius:4}},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:55,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:45,columnNumber:5},void 0)},Ce=({fromBranch:e,toBranch:a,branches:n})=>{const[t,u]=C.useState(!1),[o,v]=C.useState(null),[k,l]=C.useState(null),D=async()=>{if(!e||!a){l("Please select both branches to check quality");return}u(!0),l(null);try{const i=await fetch("/api/quality",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fromBranch:e,toBranch:a})});if(!i.ok)throw new Error("Failed to check code quality");const c=await i.json();v(c)}catch(i){console.error("Error checking quality:",i),l(i.message)}finally{u(!1)}};return r.jsxDEV(Z,{maxWidth:"xl",children:[r.jsxDEV(b,{sx:{mb:4},children:[r.jsxDEV(m,{variant:"h5",sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:[r.jsxDEV(I,{color:"primary"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:109,columnNumber:11},void 0),"Code Quality Check"]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:108,columnNumber:9},void 0),r.jsxDEV(b,{sx:{display:"flex",gap:2,mb:3},children:[r.jsxDEV(L,{sx:{minWidth:200},children:[r.jsxDEV($,{children:"From Branch"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:114,columnNumber:13},void 0),r.jsxDEV(B,{value:e,label:"From Branch",onChange:i=>setFromBranch(i.target.value),children:n.map(i=>r.jsxDEV(q,{value:i,children:i},i,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:121,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:115,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:113,columnNumber:11},void 0),r.jsxDEV(L,{sx:{minWidth:200},children:[r.jsxDEV($,{children:"To Branch"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:128,columnNumber:13},void 0),r.jsxDEV(B,{value:a,label:"To Branch",onChange:i=>setToBranch(i.target.value),children:n.map(i=>r.jsxDEV(q,{value:i,children:i},i,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:135,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:129,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:127,columnNumber:11},void 0),r.jsxDEV(ee,{variant:"contained",onClick:D,disabled:!e||!a||t,startIcon:r.jsxDEV(I,{},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:145,columnNumber:24},void 0),children:"Check Quality"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:141,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:112,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:107,columnNumber:7},void 0),t?r.jsxDEV(b,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2,py:8},children:[r.jsxDEV(ae,{},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:162,columnNumber:11},void 0),r.jsxDEV(m,{color:"text.secondary",children:"Analyzing code quality..."},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:163,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:153,columnNumber:9},void 0):k?r.jsxDEV(re,{severity:"error",sx:{mb:3},children:k},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:168,columnNumber:9},void 0):o?r.jsxDEV(b,{children:[r.jsxDEV(N,{sx:{p:3,mb:4,textAlign:"center"},children:[r.jsxDEV(m,{variant:"h6",gutterBottom:!0,children:"Overall Quality Score"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:187,columnNumber:13},void 0),r.jsxDEV(m,{variant:"h2",sx:{color:o.score>=80?"success.main":o.score>=60?"warning.main":"error.main"},children:[o.score,"%"]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:190,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:186,columnNumber:11},void 0),r.jsxDEV(b,{sx:{mb:4},children:[r.jsxDEV(m,{variant:"h6",gutterBottom:!0,children:"Quality Metrics"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:203,columnNumber:13},void 0),o.metrics?.map((i,c)=>r.jsxDEV(ge,{title:i.name,score:i.score,maxScore:i.maxScore,status:i.status},c,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:207,columnNumber:15},void 0))]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:202,columnNumber:11},void 0),o.issues?.length>0&&r.jsxDEV(N,{sx:{p:3},children:[r.jsxDEV(m,{variant:"h6",gutterBottom:!0,children:"Issues to Address"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:220,columnNumber:15},void 0),r.jsxDEV(b,{component:"ul",sx:{mt:2,pl:2},children:o.issues.map((i,c)=>r.jsxDEV(b,{component:"li",sx:{mb:2,color:i.severity==="error"?"error.main":i.severity==="warning"?"warning.main":"info.main"},children:[r.jsxDEV(m,{variant:"subtitle2",children:i.title},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:234,columnNumber:21},void 0),r.jsxDEV(m,{variant:"body2",color:"text.secondary",children:i.description},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:237,columnNumber:21},void 0)]},c,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:225,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:223,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:219,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:184,columnNumber:9},void 0):r.jsxDEV(N,{sx:{p:3,textAlign:"center",color:"text.secondary",border:"1px dashed",borderColor:"divider"},children:"Select branches and run quality check to see results"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:172,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:106,columnNumber:5},void 0)};export{Ce as default};
//# sourceMappingURL=QualityCheck-DQe5uOMc.js.map
