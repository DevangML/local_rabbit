import{g as S,a as W,r as N,u as F,_ as K,b as v,Y,j as g,s as D,c as X,U as d,d as H,an as E,ao as U,a6 as J,a7 as G,P as s,e as V,f as r,k as Z,B as f,T as m,C as I,a9 as L,aa as $,ab as B,ac as q,h as ee,H as ae,i as j}from"./index-C3ZfmUDq.js";import{A as re}from"./Alert-D6bEWVox.js";import{C as ne}from"./Chip-BqykYhhj.js";import"./useSlot-TuOhCrK8.js";function ie(e){return S("MuiLinearProgress",e)}W("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const te=["className","color","value","valueBuffer","variant"];let k=e=>e,M,T,R,z,O,w;const _=4,se=U(M||(M=k`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),oe=U(T||(T=k`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),le=U(R||(R=k`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),ce=e=>{const{classes:a,variant:n,color:t}=e,u={root:["root",`color${d(t)}`,n],dashed:["dashed",`dashedColor${d(t)}`],bar1:["bar",`barColor${d(t)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${d(t)}`,n==="buffer"&&`color${d(t)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return H(u,ie,a)},P=(e,a)=>a==="inherit"?"currentColor":e.vars?e.vars.palette.LinearProgress[`${a}Bg`]:e.palette.mode==="light"?J(e.palette[a].main,.62):G(e.palette[a].main,.5),ue=D("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:n}=e;return[a.root,a[`color${d(n.color)}`],a[n.variant]]}})(({ownerState:e,theme:a})=>v({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:P(a,e.color)},e.color==="inherit"&&e.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},e.variant==="buffer"&&{backgroundColor:"transparent"},e.variant==="query"&&{transform:"rotate(180deg)"})),me=D("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,a)=>{const{ownerState:n}=e;return[a.dashed,a[`dashedColor${d(n.color)}`]]}})(({ownerState:e,theme:a})=>{const n=P(a,e.color);return v({position:"absolute",marginTop:0,height:"100%",width:"100%"},e.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},E(z||(z=k`
    animation: ${0} 3s infinite linear;
  `),le)),de=D("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,a)=>{const{ownerState:n}=e;return[a.bar,a[`barColor${d(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&a.bar1Indeterminate,n.variant==="determinate"&&a.bar1Determinate,n.variant==="buffer"&&a.bar1Buffer]}})(({ownerState:e,theme:a})=>v({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:e.color==="inherit"?"currentColor":(a.vars||a).palette[e.color].main},e.variant==="determinate"&&{transition:`transform .${_}s linear`},e.variant==="buffer"&&{zIndex:1,transition:`transform .${_}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&E(O||(O=k`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),se)),be=D("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,a)=>{const{ownerState:n}=e;return[a.bar,a[`barColor${d(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&a.bar2Indeterminate,n.variant==="buffer"&&a.bar2Buffer]}})(({ownerState:e,theme:a})=>v({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},e.variant!=="buffer"&&{backgroundColor:e.color==="inherit"?"currentColor":(a.vars||a).palette[e.color].main},e.color==="inherit"&&{opacity:.3},e.variant==="buffer"&&{backgroundColor:P(a,e.color),transition:`transform .${_}s linear`}),({ownerState:e})=>(e.variant==="indeterminate"||e.variant==="query")&&E(w||(w=k`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),oe)),A=N.forwardRef(function(a,n){const t=F({props:a,name:"MuiLinearProgress"}),{className:u,color:o="primary",value:y,valueBuffer:x,variant:l="indeterminate"}=t,Q=K(t,te),b=v({},t,{color:o,variant:l}),h=ce(b),i=Y(),c={},C={bar1:{},bar2:{}};if(l==="determinate"||l==="buffer")if(y!==void 0){c["aria-valuenow"]=Math.round(y),c["aria-valuemin"]=0,c["aria-valuemax"]=100;let p=y-100;i&&(p=-p),C.bar1.transform=`translateX(${p}%)`}else console.error("MUI: You need to provide a value prop when using the determinate or buffer variant of LinearProgress .");if(l==="buffer")if(x!==void 0){let p=(x||0)-100;i&&(p=-p),C.bar2.transform=`translateX(${p}%)`}else console.error("MUI: You need to provide a valueBuffer prop when using the buffer variant of LinearProgress.");return g.jsxs(ue,v({className:X(h.root,u),ownerState:b,role:"progressbar"},c,{ref:n},Q,{children:[l==="buffer"?g.jsx(me,{className:h.dashed,ownerState:b}):null,g.jsx(de,{className:h.bar1,ownerState:b,style:C.bar1}),l==="determinate"?null:g.jsx(be,{className:h.bar2,ownerState:b,style:C.bar2})]}))});A.propTypes={classes:s.object,className:s.string,color:s.oneOfType([s.oneOf(["inherit","primary","secondary"]),s.string]),sx:s.oneOfType([s.arrayOf(s.oneOfType([s.func,s.object,s.bool])),s.func,s.object]),value:s.number,valueBuffer:s.number,variant:s.oneOf(["buffer","determinate","indeterminate","query"])};const fe=V(g.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),he=V(g.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),pe=V(g.jsx("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"}),"Warning"),ge=({title:e,score:a,maxScore:n,status:t})=>{const u=()=>t==="error"?"error":t==="warning"?"warning":"success",o=()=>t==="error"?r.jsxDEV(he,{},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:32,columnNumber:36},void 0):t==="warning"?r.jsxDEV(pe,{},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:33,columnNumber:38},void 0):r.jsxDEV(fe,{},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:34,columnNumber:12},void 0);return r.jsxDEV(j,{sx:{p:3,mb:2},children:[r.jsxDEV(f,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[r.jsxDEV(m,{variant:"h6",children:e},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:40,columnNumber:9},void 0),r.jsxDEV(ne,{icon:o(),label:`${a}/${n}`,color:u(),variant:"outlined"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:41,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:39,columnNumber:7},void 0),r.jsxDEV(A,{variant:"determinate",value:a/n*100,color:u(),sx:{height:8,borderRadius:4}},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:48,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:38,columnNumber:5},void 0)},Ce=({fromBranch:e,toBranch:a,branches:n})=>{var b,h;const[t,u]=N.useState(!1),[o,y]=N.useState(null),[x,l]=N.useState(null),Q=async()=>{if(!e||!a){l("Please select both branches to check quality");return}u(!0),l(null);try{const i=await fetch("/api/quality",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fromBranch:e,toBranch:a})});if(!i.ok)throw new Error("Failed to check code quality");const c=await i.json();y(c)}catch(i){console.error("Error checking quality:",i),l(i.message)}finally{u(!1)}};return r.jsxDEV(Z,{maxWidth:"xl",children:[r.jsxDEV(f,{sx:{mb:4},children:[r.jsxDEV(m,{variant:"h5",sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:[r.jsxDEV(I,{color:"primary"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:102,columnNumber:11},void 0),"Code Quality Check"]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:101,columnNumber:9},void 0),r.jsxDEV(f,{sx:{display:"flex",gap:2,mb:3},children:[r.jsxDEV(L,{sx:{minWidth:200},children:[r.jsxDEV($,{children:"From Branch"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:107,columnNumber:13},void 0),r.jsxDEV(B,{value:e,label:"From Branch",onChange:i=>onFromBranchChange(i.target.value),children:n.map(i=>r.jsxDEV(q,{value:i,children:i},i,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:114,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:108,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:106,columnNumber:11},void 0),r.jsxDEV(L,{sx:{minWidth:200},children:[r.jsxDEV($,{children:"To Branch"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:121,columnNumber:13},void 0),r.jsxDEV(B,{value:a,label:"To Branch",onChange:i=>onToBranchChange(i.target.value),children:n.map(i=>r.jsxDEV(q,{value:i,children:i},i,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:128,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:122,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:120,columnNumber:11},void 0),r.jsxDEV(ee,{variant:"contained",onClick:Q,disabled:!e||!a||t,startIcon:r.jsxDEV(I,{},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:138,columnNumber:24},void 0),children:"Check Quality"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:134,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:105,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:100,columnNumber:7},void 0),t?r.jsxDEV(f,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2,py:8},children:[r.jsxDEV(ae,{},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:155,columnNumber:11},void 0),r.jsxDEV(m,{color:"text.secondary",children:"Analyzing code quality..."},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:156,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:146,columnNumber:9},void 0):x?r.jsxDEV(re,{severity:"error",sx:{mb:3},children:x},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:161,columnNumber:9},void 0):o?r.jsxDEV(f,{children:[r.jsxDEV(j,{sx:{p:3,mb:4,textAlign:"center"},children:[r.jsxDEV(m,{variant:"h6",gutterBottom:!0,children:"Overall Quality Score"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:180,columnNumber:13},void 0),r.jsxDEV(m,{variant:"h2",sx:{color:o.score>=80?"success.main":o.score>=60?"warning.main":"error.main"},children:[o.score,"%"]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:183,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:179,columnNumber:11},void 0),r.jsxDEV(f,{sx:{mb:4},children:[r.jsxDEV(m,{variant:"h6",gutterBottom:!0,children:"Quality Metrics"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:196,columnNumber:13},void 0),(b=o.metrics)==null?void 0:b.map((i,c)=>r.jsxDEV(ge,{title:i.name,score:i.score,maxScore:i.maxScore,status:i.status},c,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:200,columnNumber:15},void 0))]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:195,columnNumber:11},void 0),((h=o.issues)==null?void 0:h.length)>0&&r.jsxDEV(j,{sx:{p:3},children:[r.jsxDEV(m,{variant:"h6",gutterBottom:!0,children:"Issues to Address"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:213,columnNumber:15},void 0),r.jsxDEV(f,{component:"ul",sx:{mt:2,pl:2},children:o.issues.map((i,c)=>r.jsxDEV(f,{component:"li",sx:{mb:2,color:i.severity==="error"?"error.main":i.severity==="warning"?"warning.main":"info.main"},children:[r.jsxDEV(m,{variant:"subtitle2",children:i.title},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:227,columnNumber:21},void 0),r.jsxDEV(m,{variant:"body2",color:"text.secondary",children:i.description},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:230,columnNumber:21},void 0)]},c,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:218,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:216,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:212,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:177,columnNumber:9},void 0):r.jsxDEV(j,{sx:{p:3,textAlign:"center",color:"text.secondary",border:"1px dashed",borderColor:"divider"},children:"Select branches and run quality check to see results"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:165,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/QualityCheck/QualityCheck.jsx",lineNumber:99,columnNumber:5},void 0)};export{Ce as default};
