import{e as U,j as V,r as A,f as e,k as _,B as a,T as l,a9 as g,aa as y,ab as N,ac as v,m as C,h as S,H as I,i}from"./index-K_m0r3Nf.js";import{A as B}from"./Alert-BhuvVyDJ.js";import"./useSlot-CI_DgnQ-.js";const z=U(V.jsx("path",{d:"M7.5 5.6 10 7 8.6 4.5 10 2 7.5 3.4 5 2l1.4 2.5L5 7zm12 9.8L17 14l1.4 2.5L17 19l2.5-1.4L22 19l-1.4-2.5L22 14zM22 2l-2.5 1.4L17 2l1.4 2.5L17 7l2.5-1.4L22 7l-1.4-2.5zm-7.63 5.29a.9959.9959 0 0 0-1.41 0L1.29 18.96c-.39.39-.39 1.02 0 1.41l2.34 2.34c.39.39 1.02.39 1.41 0L16.7 11.05c.39-.39.39-1.02 0-1.41zm-1.03 5.49-2.12-2.12 2.44-2.44 2.12 2.12z"}),"AutoFixHigh"),T=({fromBranch:o,toBranch:t,branches:m,onFromBranchChange:j,onToBranchChange:D,isLoadingBranches:u,repoPath:s})=>{const[d,p]=A.useState(!1),[r,h]=A.useState(null),[x,b]=A.useState(null),[f,E]=A.useState(""),k=async()=>{if(!s){b("Please select a repository first");return}if(!o||!t){b("Please select both branches to analyze");return}p(!0),b(null);try{const n=await fetch("/api/code-review/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({repoPath:s,baseBranch:o,headBranch:t,prompt:f.trim()})});if(!n.ok)throw new Error("Failed to analyze changes");const c=await n.json();h(c)}catch(n){console.error("Error analyzing changes:",n),b(n.message)}finally{p(!1)}};return e.jsxDEV(_,{maxWidth:"xl",children:[e.jsxDEV(a,{sx:{mb:4},children:[e.jsxDEV(l,{variant:"h5",sx:{mb:3,display:"flex",alignItems:"center",gap:1},children:[e.jsxDEV(z,{color:"primary"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:84,columnNumber:11},void 0),"AI Analysis"]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:83,columnNumber:9},void 0),e.jsxDEV(a,{sx:{display:"flex",gap:2,mb:3},children:[e.jsxDEV(g,{sx:{minWidth:200},children:[e.jsxDEV(y,{children:"From Branch"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:89,columnNumber:13},void 0),e.jsxDEV(N,{value:o,label:"From Branch",onChange:n=>j(n.target.value),disabled:u||!s||m.length===0,children:m.map(n=>e.jsxDEV(v,{value:n,children:n},n,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:97,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:90,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:88,columnNumber:11},void 0),e.jsxDEV(g,{sx:{minWidth:200},children:[e.jsxDEV(y,{children:"To Branch"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:104,columnNumber:13},void 0),e.jsxDEV(N,{value:t,label:"To Branch",onChange:n=>D(n.target.value),disabled:u||!s||m.length===0,children:m.map(n=>e.jsxDEV(v,{value:n,children:n},n,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:112,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:105,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:103,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:87,columnNumber:9},void 0),e.jsxDEV(a,{sx:{mb:3},children:[e.jsxDEV(l,{variant:"subtitle1",gutterBottom:!0,children:"Custom Instructions for AI Analysis"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:121,columnNumber:11},void 0),e.jsxDEV(C,{id:"ai-prompt",multiline:!0,rows:3,value:f,onChange:n=>E(n.target.value),placeholder:"Enter specific instructions for the AI analysis (e.g., 'Focus on security issues' or 'Explain the changes in simple terms')",disabled:d,fullWidth:!0,variant:"outlined",sx:{backgroundColor:"background.paper"}},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:124,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:120,columnNumber:9},void 0),e.jsxDEV(a,{sx:{display:"flex",justifyContent:"flex-start"},children:e.jsxDEV(S,{variant:"contained",onClick:k,disabled:!s||!o||!t||!!d||!!u,startIcon:e.jsxDEV(z,{},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:143,columnNumber:24},void 0),children:d?"Analyzing...":"Analyze Changes"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:139,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:138,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:82,columnNumber:7},void 0),u?e.jsxDEV(a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2,py:8},children:[e.jsxDEV(I,{},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:160,columnNumber:11},void 0),e.jsxDEV(l,{color:"text.secondary",children:"Loading branches..."},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:161,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:151,columnNumber:9},void 0):s?d?e.jsxDEV(a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:2,py:8},children:[e.jsxDEV(I,{},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:187,columnNumber:11},void 0),e.jsxDEV(l,{color:"text.secondary",children:"Analyzing changes using AI..."},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:188,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:178,columnNumber:9},void 0):x?e.jsxDEV(B,{severity:"error",sx:{mb:3},children:x},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:193,columnNumber:9},void 0):r?e.jsxDEV(a,{sx:{display:"flex",flexDirection:"column",gap:3},children:[e.jsxDEV(i,{sx:{p:3},children:[e.jsxDEV(l,{variant:"h6",gutterBottom:!0,children:"Summary"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:212,columnNumber:13},void 0),e.jsxDEV(l,{color:"text.secondary",children:r.summary},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:215,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:211,columnNumber:11},void 0),r.suggestions?.length>0&&e.jsxDEV(i,{sx:{p:3},children:[e.jsxDEV(l,{variant:"h6",gutterBottom:!0,children:"Suggestions"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:223,columnNumber:15},void 0),e.jsxDEV(a,{component:"ul",sx:{mt:2,pl:2},children:r.suggestions.map((n,c)=>e.jsxDEV(l,{component:"li",color:"text.secondary",sx:{mb:1},children:n},c,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:228,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:226,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:222,columnNumber:13},void 0),r.codeQuality&&e.jsxDEV(i,{sx:{p:3},children:[e.jsxDEV(l,{variant:"h6",gutterBottom:!0,children:"Code Quality Insights"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:244,columnNumber:15},void 0),e.jsxDEV(a,{sx:{mt:2},children:Object.entries(r.codeQuality).map(([n,c])=>e.jsxDEV(a,{sx:{mb:2},children:[e.jsxDEV(l,{variant:"subtitle2",gutterBottom:!0,children:n},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:250,columnNumber:21},void 0),e.jsxDEV(l,{color:"text.secondary",children:c},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:253,columnNumber:21},void 0)]},n,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:249,columnNumber:19},void 0))},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:247,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:243,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:209,columnNumber:9},void 0):e.jsxDEV(i,{sx:{p:3,textAlign:"center",color:"text.secondary",border:"1px dashed",borderColor:"divider"},children:"Select branches and click Analyze to get AI-powered insights"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:197,columnNumber:9},void 0):e.jsxDEV(i,{sx:{p:3,textAlign:"center",color:"text.secondary",border:"1px dashed",borderColor:"divider"},children:"Please select a repository to begin"},void 0,!1,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:166,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/devang/Documents/local_rabbit/packages/client/src/components/AIAnalyzer/AIAnalyzer.jsx",lineNumber:81,columnNumber:5},void 0)};export{T as default};
//# sourceMappingURL=AIAnalyzer-B22IC8zq.js.map
